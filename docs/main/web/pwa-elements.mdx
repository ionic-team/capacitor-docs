---
title: PWA Elements
description: 使用 PWA Elements
contributors:
  - dotNetkow
  - mlynch
slug: /web/pwa-elements
---

# PWA Elements

一些 Capacitor 插件（如 `Camera` 或 `Toast`）在非原生环境中运行时，提供了基于 Web 的用户界面。例如，在 Web 端调用 `Camera.getPhoto()` 时会加载一个响应式的照片拍摄体验：

![PWA Elements](/img/v6/docs/pwa-elements.png)

该用户界面是使用 Web 组件（Web Components）实现的。由于这些元素被 [Shadow DOM](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM) 封装，它们不会与您自己的用户界面产生冲突。

## 安装

要启用这些控件，您需要在应用中添加 `@ionic/pwa-elements`。

典型的安装方式包括导入包并注册元素，或者在应用的 `index.html` 的 `<head>` 中添加脚本标签：

#### 导入 PWA Elements

```bash
npm install @ionic/pwa-elements
```

然后，根据您选择的框架，导入元素加载器并在适当的时机调用它：

##### React

`main.tsx` 或 `index.tsx` 或 `index.js`：

```tsx
import { defineCustomElements } from '@ionic/pwa-elements/loader';

// 在渲染调用之前调用元素加载器
defineCustomElements(window);
```

##### Vue

`main.ts`：

```typescript
// 在 createApp() 行之前
import { defineCustomElements } from '@ionic/pwa-elements/loader';
defineCustomElements(window);
```

##### Angular

`main.ts`：

```typescript
import { defineCustomElements } from '@ionic/pwa-elements/loader';
// 在 bootstrapModule/bootstrapApplication 调用之前调用元素加载器
defineCustomElements(window);
if (environment.production) {
  enableProdMode();
}
```

#### 通过脚本标签引入

PWA Elements 可以通过在 `index.html` 中添加脚本标签来引入。但请注意，这种方式在离线场景下将无法工作：

```html
<script
  type="module"
  src="https://unpkg.com/@ionic/pwa-elements@latest/dist/ionicpwaelements/ionicpwaelements.esm.js"
></script>
<script
  nomodule
  src="https://unpkg.com/@ionic/pwa-elements@latest/dist/ionicpwaelements/ionicpwaelements.js"
></script>
```